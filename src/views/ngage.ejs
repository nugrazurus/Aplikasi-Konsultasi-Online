<html>
  <head>
    <script
      type="text/javascript"
      src="https://video.ngagevideoapi.com/libs/iframevideoapi.min.js"
    ></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  </head>
  <body>
    <div class="h-50 w-50" id="videoconf"></div>
    <script>
      const apiID = '<%= apiID %>';
      const apiKey = '<%= apiKey %>';
      const roomName = '<%= roomName %>';
      const options = {
        roomName: roomName,
        width: '100%',
        height: '100%',
        userInfo: {
          email: 'nugrazurus@untan.ac.id',
          displayName: 'nugra'
        },
        container: document.querySelector("#videoconf"),
        interfaceConfigOverwrite: {
          TOOLBAR_BUTTONS: [
            "microphone",
            "camera",
            "desktop",
            "fullscreen",
            "hangup",
            "chat",
            "tileview",
            "stats",
            "videoquality",
            "raisehand",
            "settings",
            "participant-count",
            "videobackgroundblur",
            "mute-everyone"
        ]},
        initialSetup: { 
          startWithAudioMuted: true,
          startWithVideoMuted: true 
        },
        // apiID: 'TEST',
        // apiKey: 'TEST',
        apiID: apiID,
        apiKey: apiKey,
      };
      const api = new IFrameVideoAPI(options);
      api.subscribeEvent(api.Events.PARTICIPANT_JOINED, function(e) {
        console.log(e.displayName + ' (' + e.id +') joined')
      })
    </script>
  </body>
</html>
